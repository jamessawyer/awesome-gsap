import{_ as s,c as o,o as a,a as l}from"./app.586394ea.js";const A=JSON.parse('{"title":"gsap.exportRoot()","description":"","frontmatter":{"title":"gsap.exportRoot()"},"headers":[],"relativePath":"v3/globals/methods/exportRoot.md","lastUpdated":1676275730000}'),e={name:"v3/globals/methods/exportRoot.md"},n=l(`<p>📚 无缝的将根时间轴（<code>root timeline</code>）上的补间动画（<code>tweens</code>），时间轴（<code>timelines</code>）和 <a href="./delayedCall.html">delayedCall</a> （可选的）转移到一个新的时间轴上。</p><ul><li>好处：这样相当于拷贝了原来的全局时间轴，之后执行的高级操作不会影响到 <code>导出后</code> 创建的补间动画或时间轴</li></ul><p>🌰例如：假设一款使用GSAP制作所有动画的游戏，在游戏过程中的某个时刻，你想让所有动画都停止（改变 <code>timeScale</code>），同时动画弹出一个新的窗口：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line highlighted"><span style="color:#676E95;font-style:italic;">// 转移globalTimeline上所有的tweens &amp; timelines &amp; delayedCalls</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> tl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> gsap</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exportRoot</span><span style="color:#A6ACCD;">()</span></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// 对导出的时间轴进行操作 暂停所有动画</span></span>
<span class="line"><span style="color:#A6ACCD;">gsap</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">to</span><span style="color:#A6ACCD;">(tl</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">duration</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">timeScale</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// 💡这个补间动画在 \`导出后\` 创建的，因此不会受到上面设置的影响</span></span>
<span class="line"><span style="color:#A6ACCD;">gsap</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fromTo</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  myWindow</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">scale</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">duration</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">scale</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>之后可以通过将 <code>timeScale</code> 切换回 <code>1</code> 恢复动画。又或者，可以使用 <code>exportRoot()</code> 将所有动画收集起来，然后使用 <code>pause()</code> 暂停它们，处理完弹窗动画后，再使用 <code>resume()</code> 恢复动画，甚至还可以 <code>reverse()</code> 反向动画。</p><div class="tip custom-block"><p class="custom-block-title">📚</p><p>你还可以根据需要多次执行 <code>exportRoot()</code>，它所做的就是将所有松散的补间动画，时间轴和delayedCall <code>包装</code> 到一个时间轴中，这个时间轴本身被放置到根时间轴中😎，所以如果你再次 <code>exportRoot()</code>，这个时间轴将被包装到另一个中。可以按照你的意愿进行 <code>嵌套</code> 。</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><code>完成的</code> 补间动画和时间轴会从 <code>globalTimeline</code> （全局时间轴）中移除，以便垃圾回收，因此，如果你再某个特定补间动画完成后 <code>exportRoot()</code>，那个完成的补间动画是不会包含到导出的新时间轴中的。</p></div><p>文档地址：</p><ul><li><a href="https://greensock.com/docs/v3/GSAP/gsap.exportRoot()" target="_blank" rel="noreferrer">gsap.exportRoot()</a></li></ul><p>2022年11月24日10:03:32</p>`,10),p=[n];function t(c,r,d,i,y,C){return a(),o("div",null,p)}const F=s(e,[["render",t]]);export{A as __pageData,F as default};

import{_ as e,c as s,o as l,a as r}from"./app.586394ea.js";const f=JSON.parse('{"title":"ScrollTrigger.refresh","description":"","frontmatter":{"title":"ScrollTrigger.refresh"},"headers":[{"level":2,"title":"åˆ·æ–°æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ","slug":"åˆ·æ–°æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ","link":"#åˆ·æ–°æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ","children":[]},{"level":2,"title":"é«˜çº§ï¼šç›‘å¬ refresh|refreshInit äº‹ä»¶","slug":"é«˜çº§-ç›‘å¬-refresh-refreshinit-äº‹ä»¶","link":"#é«˜çº§-ç›‘å¬-refresh-refreshinit-äº‹ä»¶","children":[]},{"level":2,"title":"refresh() å’Œ update() çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ","slug":"refresh-å’Œ-update-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ","link":"#refresh-å’Œ-update-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ","children":[]}],"relativePath":"plugins/scroll-trigger/methods/static-refresh.md","lastUpdated":1676275730000}'),a={name:"plugins/scroll-trigger/methods/static-refresh.md"},n=r(`<nav class="table-of-contents"><ul><li><a href="#åˆ·æ–°æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ">åˆ·æ–°æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</a></li><li><a href="#é«˜çº§-ç›‘å¬-refresh-refreshinit-äº‹ä»¶">é«˜çº§ï¼šç›‘å¬ refresh|refreshInit äº‹ä»¶</a></li><li><a href="#refresh-å’Œ-update-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ">refresh() å’Œ update() çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</a></li></ul></nav><p>ğŸ“š å®šä¹‰ï¼š</p><p><code>ScrollTrigger.addEventListener(safe: Boolean)</code></p><ul><li>å¯¹é¡µé¢ä¸­æ‰€æœ‰çš„ScrollTriggeréƒ½é‡æ–°è®¡ç®—ä½ç½®ã€‚å½“window/scroller resizeæ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å‘ç”Ÿã€‚ä½†æ˜¯ä½ ä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨ <code>ScrollTrigger.refresh()</code> å¼ºåˆ¶åˆ·æ–°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å¯¹DOMè¿›è¡Œæ›´æ”¹ï¼Œå°†å¯¼è‡´å›æµå’Œä½ç½®æ›´æ”¹(å¦‚å±•å¼€å†…å®¹)ã€‚</li><li>å‚æ•° <ul><li><code>safe: Boolean</code> : å¦‚æœä¸º <code>true</code>ï¼Œå®ƒè‡³å°‘ç­‰å¾…ä¸€ä¸ªrequestAnimationFrame tickï¼Œå¤§çº¦200msåå¼€å§‹åˆ·æ–°ã€‚è¿™å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºæœ‰æ—¶æµè§ˆå™¨å®é™…ä¸Šä¸ä¼šç«‹å³å‘ˆç°domç›¸å…³çš„æ›´æ”¹ï¼Œä»è€Œå¯¼è‡´æµ‹é‡ä¸å‡†ç¡®ã€‚</li><li>ä¾‹å¦‚ï¼Œå¦‚æœä½ ç»™ä¸€ä¸ªå¯ä»¥å±•å¼€å…¶å†…å®¹çš„å…ƒç´ æ·»åŠ  <code>click</code> äº‹ä»¶ï¼Œå¹¶ä¸”ä½ åœ¨äº‹ä»¶å›è°ƒä¸­è°ƒç”¨ <code>ScrollTrigger.refresh()</code>ï¼Œè¿™ä¸ªæ”¹å˜å¯èƒ½åœ¨é‚£ä¸ªæ—¶é—´ç‚¹è¿˜æ²¡æœ‰å®Œå…¨æ¸²æŸ“ï¼Œå› æ­¤è¿™é‡Œæ˜¯å¾ˆé€‚åˆå¼€å¯ <code>safe</code> ğŸ˜</li></ul></li></ul><h2 id="åˆ·æ–°æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ" tabindex="-1">åˆ·æ–°æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#åˆ·æ–°æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ" aria-hidden="true">#</a></h2><p>æ¯ä¸ªScrollTriggeréƒ½ä¼šè¿›è¡Œå¦‚ä¸‹æ­¥éª¤ï¼ˆæŒ‰å®ä¾‹åˆ›å»ºçš„é¡ºåºï¼‰ï¼š</p><ol><li><code>refreshInit</code> äº‹ä»¶è¢«è§¦å‘</li><li>ä»»ä½•å›ºå®šå…ƒç´ ï¼ˆ<code>pinned elements</code>ï¼‰ä¼šä¸´æ—¶å›é€€åˆ°å®ƒä»¬éå›ºå®šçŠ¶æ€ï¼ˆå®ƒä»¬åœ¨æ–‡æ¡£ä¸­çš„è‡ªç„¶ä½ç½®ï¼‰</li><li>å¦‚æœä½¿ç”¨äº† <code>scrub</code>ï¼ŒåŠ¨ç”»ä¼šä¸´æ—¶é‡ç½®åˆ°å¼€å§‹çŠ¶æ€</li><li>ScrollTriggerçš„start &amp; endä½ç½®ä¼šåŸºäºå…¶å½“å‰DOM(è‡ªç„¶æµ)è¿›è¡Œé‡æ–°è®¡ç®—ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¦‚æœä½ ä½¿ç”¨äº†åŸºäºå‡½æ•°çš„ <code>start</code> | <code>end</code> å€¼ï¼Œå®ƒä»¬ä¹Ÿä¼šè¢«è°ƒç”¨ğŸ¤©</li><li>ä»»ä½•å›ºå®šå…ƒç´ å’ŒåŠ¨ç”»ä¼šä¾æ®å®ƒä»¬çš„æ–°çš„ä½ç½®æˆ–è¿›åº¦é‡å¯ï¼ˆre-enableï¼‰</li><li>å¦‚æœè¿›åº¦ï¼ˆprogressï¼‰å‘ç”Ÿå˜åŒ–ï¼Œ<code>update()</code>å›è°ƒå‡½æ•°ä¼šè¢«è°ƒç”¨</li><li>ScrollTriggerå®ä¾‹çš„ <code>onRefresh</code> å›è°ƒè¢«è§¦å‘</li></ol><h2 id="é«˜çº§-ç›‘å¬-refresh-refreshinit-äº‹ä»¶" tabindex="-1">é«˜çº§ï¼šç›‘å¬ refresh|refreshInit äº‹ä»¶ <a class="header-anchor" href="#é«˜çº§-ç›‘å¬-refresh-refreshinit-äº‹ä»¶" aria-hidden="true">#</a></h2><p>ScrollTriggerä¼šåœ¨æ‰€æœ‰ScrollTriggersåˆ·æ–°å‰ç«‹å³æ‰§è¡Œ <code>refreshInit</code> äº‹ä»¶ï¼Œåœ¨æ‰€æœ‰ScrollTriggersåˆ·æ–°åç«‹å³æ‰§è¡Œ <code>refresh</code> äº‹ä»¶ã€‚ ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ª <a href="./static-addEventListener.html">äº‹ä»¶ç›‘å¬å™¨</a>ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">ScrollTrigger</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">refreshInit</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// è¿™ä¸ªäº‹ä»¶åœ¨åˆ·æ–°å‰è°ƒç”¨</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">ScrollTrigger</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">refresh</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// è¿™ä¸ªäº‹ä»¶åœ¨æ‰€æœ‰ScrollTriggersåˆ·æ–°åè°ƒç”¨</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>è¿™äº›äº‹ä»¶éƒ½æ˜¯ <code>å…¨å±€</code> å‘é€çš„ï¼Œè€Œä¸æ˜¯ç»‘å®šæŸä¸ªç‰¹å®šScrollTriggerçš„ ğŸŒ°</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">ScrollTrigger</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">scrollEnd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Scrolling Ended!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>åŒæ—¶è¿˜æœ‰ä¸€ä¸ª<a href="./static-removeEventListener.html">ç§»é™¤äº‹ä»¶ç›‘å¬</a>çš„æ–¹æ³•ã€‚æ³¨æ„ï¼Œè¿™äº›æ–¹æ³•éƒ½æ˜¯ <code>é™æ€çš„</code></p><h2 id="refresh-å’Œ-update-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" tabindex="-1">refresh() å’Œ update() çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#refresh-å’Œ-update-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a></h2><p><code>refresh()</code> æ˜¯å…³äºScrollTrigger <code>start | end</code> ä½ç½®ä¾æ®å½“å‰DOMé‡æ–°è®¡ç®—ï¼›è€Œ <code>update()</code> ç®€å•çš„æ£€æŸ¥scrolleræ»šåŠ¨ä½ç½®å¹¶æ›´æ–°ç›¸å…³è”çš„åŠ¨ç”»å’Œè§¦å‘å›è°ƒï¼ˆå¦‚æœå¿…è¦çš„è¯ï¼‰ã€‚ å› æ­¤ï¼Œ<code>refresh()</code> è®¾è®¡æ›´å¤šçš„å·¥ä½œï¼Œå®ƒä¹Ÿä¼šæœ€ç»ˆè°ƒç”¨ <code>update()</code>ã€‚ å½“DOMæ”¹å˜æˆ–è€…ä½ éœ€è¦å¼ºåˆ¶é‡æ–°è®¡ç®— <code>start|end</code> ä½ç½®æ—¶ï¼Œä½ æ‰ä¼šå»è°ƒç”¨ <code>refresh()</code>ã€‚</p><p>æ–‡æ¡£åœ°å€ï¼š</p><ul><li><a href="https://greensock.com/docs/v3/Plugins/ScrollTrigger/static.refresh()" target="_blank" rel="noreferrer">ScrollTrigger.refresh()</a></li></ul><p>2022å¹´10æœˆ20æ—¥17:40:12</p>`,18),o=[n];function c(t,p,i,d,h,D){return l(),s("div",null,o)}const y=e(a,[["render",c]]);export{f as __pageData,y as default};
